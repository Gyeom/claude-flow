# Claude Flow ì„±ëŠ¥ ê³ ë„í™” ê¸°íšì„œ

> ì‘ì„±ì¼: 2025-12-25
> ë²„ì „: 1.0
> ëª©í‘œ: LLM í˜¸ì¶œ ìµœì í™”ë¥¼ í†µí•œ ì‘ë‹µ ì‹œê°„ 50% ë‹¨ì¶•, ë¹„ìš© 40% ì ˆê°

---

## ëª©ì°¨

1. [í˜„í™© ë¶„ì„](#1-í˜„í™©-ë¶„ì„)
2. [í•µì‹¬ ë³‘ëª©ì ](#2-í•µì‹¬-ë³‘ëª©ì )
3. [ìµœì í™” ì „ëµ](#3-ìµœì í™”-ì „ëµ)
4. [Claude Code CLI Best Practices ì ìš©](#4-claude-code-cli-best-practices-ì ìš©)
5. [ëŒ€ê·œëª¨ ì‘ì—… ì²˜ë¦¬ ì•„í‚¤í…ì²˜](#5-ëŒ€ê·œëª¨-ì‘ì—…-ì²˜ë¦¬-ì•„í‚¤í…ì²˜)
6. [êµ¬í˜„ ë¡œë“œë§µ](#6-êµ¬í˜„-ë¡œë“œë§µ)
7. [ì˜ˆìƒ íš¨ê³¼](#7-ì˜ˆìƒ-íš¨ê³¼)

---

## 1. í˜„í™© ë¶„ì„

### 1.1 í˜„ì¬ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              í´ë¼ì´ì–¸íŠ¸ ê³„ì¸µ                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚      Slack      â”‚     â”‚       n8n       â”‚     â”‚  Dashboard (React)  â”‚    â”‚
â”‚  â”‚ (@ë©˜ì…˜, ë¦¬ì•¡ì…˜)  â”‚     â”‚  (ì›Œí¬í”Œë¡œìš°)    â”‚     â”‚     (ê´€ë¦¬ UI)       â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚           â”‚                       â”‚                         â”‚               â”‚
â”‚           â–¼                       â”‚                         â”‚               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚                         â”‚               â”‚
â”‚  â”‚ Socket Mode     â”‚              â”‚                         â”‚               â”‚
â”‚  â”‚ Bridge          â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                         â”‚               â”‚
â”‚  â”‚ (ì´ë²¤íŠ¸ ìˆ˜ì‹ )    â”‚   Webhook    â”‚                         â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚                         â”‚               â”‚
â”‚                                   â”‚                         â”‚               â”‚
â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚           â”‚                                                                  â”‚
â”‚           â”‚   /execute-with-routing (LLM)                                   â”‚
â”‚           â”‚   /slack/message, /slack/reaction                               â”‚
â”‚           â”‚   /analytics/*, /agents, /jira/*, /knowledge/*                  â”‚
â”‚           â”‚                                                                  â”‚
â”‚           â–¼                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Claude Flow API (Spring WebFlux)                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                         REST Controllers                              â”‚   â”‚
â”‚  â”‚                                                                       â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚   â”‚
â”‚  â”‚  â”‚ ClaudeFlow â”‚  â”‚ Analytics  â”‚  â”‚   Jira     â”‚  â”‚ Knowledge  â”‚     â”‚   â”‚
â”‚  â”‚  â”‚ Controller â”‚  â”‚ Controller â”‚  â”‚ Controller â”‚  â”‚ Controller â”‚     â”‚   â”‚
â”‚  â”‚  â”‚            â”‚  â”‚            â”‚  â”‚            â”‚  â”‚            â”‚     â”‚   â”‚
â”‚  â”‚  â”‚ n8n í˜¸ì¶œ   â”‚  â”‚ Dashboard  â”‚  â”‚ Dashboard  â”‚  â”‚ Dashboard  â”‚     â”‚   â”‚
â”‚  â”‚  â”‚ (LLM) âš ï¸   â”‚  â”‚   í˜¸ì¶œ     â”‚  â”‚ í˜¸ì¶œ(LLM)âš ï¸ â”‚  â”‚ í˜¸ì¶œ       â”‚     â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜     â”‚   â”‚
â”‚  â”‚        â”‚               â”‚               â”‚               â”‚            â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”    â”‚   â”‚
â”‚  â”‚  â”‚                    Service Layer                            â”‚    â”‚   â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚    â”‚   â”‚
â”‚  â”‚  â”‚  â”‚ AgentRouter â”‚  â”‚ClaudeExecutorâ”‚  â”‚ RAG Servicesâ”‚         â”‚    â”‚   â”‚
â”‚  â”‚  â”‚  â”‚  (Routing)  â”‚  â”‚ (Claude CLI) â”‚  â”‚ (Embedding) â”‚         â”‚    â”‚   â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚    â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                        Infrastructure                                 â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚   â”‚
â”‚  â”‚  â”‚ SQLite  â”‚  â”‚ Qdrant  â”‚  â”‚ Ollama  â”‚  â”‚  Jira   â”‚  â”‚ GitLab  â”‚    â”‚   â”‚
â”‚  â”‚  â”‚ Storage â”‚  â”‚ VectorDBâ”‚  â”‚Embeddingâ”‚  â”‚  Cloud  â”‚  â”‚   API   â”‚    â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                      â”‚                                                       â”‚
â”‚                      â”‚ Slack API (ì‘ë‹µ ì „ì†¡)                                 â”‚
â”‚                      â–¼                                                       â”‚
â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                              â”‚
â”‚            â”‚  Slack ë©”ì‹œì§€    â”‚                                              â”‚
â”‚            â”‚  ë¦¬ì•¡ì…˜ ì „ì†¡     â”‚                                              â”‚
â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### LLM í˜¸ì¶œ ì§€ì  (í´ë¼ì´ì–¸íŠ¸ë³„)

| í´ë¼ì´ì–¸íŠ¸ | ì—”ë“œí¬ì¸íŠ¸ | LLM í˜¸ì¶œ | í‰ê·  ì§€ì—° | ë¹„ê³  |
|-----------|-----------|----------|----------|------|
| **n8n** | `POST /execute-with-routing` | âœ… Claude CLI | 3-15ì´ˆ | Slack ëŒ€í™” ì²˜ë¦¬ |
| **n8n** | `POST /slack/message` | âŒ | <100ms | |
| **Dashboard** | `POST /chat/stream` | âœ… Claude CLI (SSE) | 3-15ì´ˆ | **ëŒ€ì‹œë³´ë“œ ì±„íŒ…** |
| **Dashboard** | `POST /jira/nl-to-jql` | âœ… Claude CLI | 5-10ì´ˆ | ìì—°ì–´â†’JQL ë³€í™˜ |
| **Dashboard** | `POST /jira/analyze/*` | âœ… Claude CLI | 3-10ì´ˆ | ì´ìŠˆ ë¶„ì„ |
| **Dashboard** | `POST /knowledge/search` | âš ï¸ Ollama ì„ë² ë”© | 200-500ms | ë²¡í„° ê²€ìƒ‰ |
| **Dashboard** | `GET /analytics/*` | âŒ | <100ms | |

### Dashboard ì±„íŒ… ë°ì´í„° íë¦„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Dashboard ì±„íŒ… íë¦„                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  1. ì‚¬ìš©ìê°€ Dashboardì—ì„œ ë©”ì‹œì§€ ì…ë ¥                                        â”‚
â”‚     â”‚                                                                        â”‚
â”‚     â–¼                                                                        â”‚
â”‚  2. ChatContext.sendMessage() í˜¸ì¶œ                                           â”‚
â”‚     â”‚                                                                        â”‚
â”‚     â–¼                                                                        â”‚
â”‚  3. POST /api/v1/chat/stream (SSE ìŠ¤íŠ¸ë¦¬ë°)                                  â”‚
â”‚     â”‚                                                                        â”‚
â”‚     â”œâ”€â”€ Accept: text/event-stream                                           â”‚
â”‚     â”œâ”€â”€ messages: ëŒ€í™” íˆìŠ¤í† ë¦¬ ì „ì²´ (ë¬´ì œí•œ!) âš ï¸                            â”‚
â”‚     â”œâ”€â”€ projectId: ì„ íƒëœ í”„ë¡œì íŠ¸                                           â”‚
â”‚     â””â”€â”€ agentId: ì„ íƒëœ ì—ì´ì „íŠ¸                                             â”‚
â”‚     â”‚                                                                        â”‚
â”‚     â–¼                                                                        â”‚
â”‚  4. ChatStreamController ì²˜ë¦¬                                                â”‚
â”‚     â”‚                                                                        â”‚
â”‚     â”œâ”€â”€ AgentRouter: ì—ì´ì „íŠ¸ ì„ íƒ                                           â”‚
â”‚     â”œâ”€â”€ RAG: ì»¨í…ìŠ¤íŠ¸ ì¦ê°•                                                   â”‚
â”‚     â””â”€â”€ ClaudeExecutor.executeStreaming() â† **LLM í˜¸ì¶œ** (3-15ì´ˆ)           â”‚
â”‚     â”‚                                                                        â”‚
â”‚     â–¼                                                                        â”‚
â”‚  5. SSE ì´ë²¤íŠ¸ ìŠ¤íŠ¸ë¦¬ë°                                                      â”‚
â”‚     â”‚                                                                        â”‚
â”‚     â”œâ”€â”€ event: heartbeat (ì—°ê²° ìœ ì§€)                                         â”‚
â”‚     â”œâ”€â”€ event: metadata (ì—ì´ì „íŠ¸ ì •ë³´)                                      â”‚
â”‚     â”œâ”€â”€ event: text (ì‘ë‹µ í…ìŠ¤íŠ¸ ì²­í¬)                                       â”‚
â”‚     â”œâ”€â”€ event: tool_start/tool_end (ë„êµ¬ í˜¸ì¶œ)                              â”‚
â”‚     â””â”€â”€ event: done (ì™„ë£Œ)                                                   â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Dashboard ì±„íŒ… ì„±ëŠ¥ ë³‘ëª©ì **:
- âš ï¸ ëŒ€í™” íˆìŠ¤í† ë¦¬ ë¬´ì œí•œ ì „ì†¡ (ê¸´ ëŒ€í™” ì‹œ í† í° í­ë°œ)
- âš ï¸ RAG ì»¨í…ìŠ¤íŠ¸ ì¦ê°• ë™ê¸° ì²˜ë¦¬
- âœ… SSE ìŠ¤íŠ¸ë¦¬ë°ìœ¼ë¡œ TTFT ê°œì„ ë¨

### 1.2 Slack â†’ n8n â†’ Claude Flow ë°ì´í„° íë¦„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Slack ë©”ì‹œì§€ ì²˜ë¦¬ íë¦„                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  1. ì‚¬ìš©ìê°€ Slackì—ì„œ @claude ë©˜ì…˜                                          â”‚
â”‚     â”‚                                                                        â”‚
â”‚     â–¼                                                                        â”‚
â”‚  2. Slack Socket Mode Bridgeê°€ ì´ë²¤íŠ¸ ìˆ˜ì‹                                    â”‚
â”‚     â”‚                                                                        â”‚
â”‚     â–¼                                                                        â”‚
â”‚  3. n8n Webhookìœ¼ë¡œ ì´ë²¤íŠ¸ ì „ë‹¬ (/webhook/slack-mention)                     â”‚
â”‚     â”‚                                                                        â”‚
â”‚     â–¼                                                                        â”‚
â”‚  4. n8n ì›Œí¬í”Œë¡œìš° ì‹¤í–‰ (slack-mention-handler)                              â”‚
â”‚     â”‚                                                                        â”‚
â”‚     â”œâ”€â”€â†’ ë©”ì‹œì§€ ë¶„ë¥˜ (command / mr-review / general)                        â”‚
â”‚     â”‚                                                                        â”‚
â”‚     â”œâ”€â”€â†’ ìŠ¤ë ˆë“œ íˆìŠ¤í† ë¦¬ ì¡°íšŒ (GET /slack/thread-history)                    â”‚
â”‚     â”‚                                                                        â”‚
â”‚     â”œâ”€â”€â†’ Claude ì‹¤í–‰ ìš”ì²­ (POST /execute-with-routing) â† **LLM í˜¸ì¶œ**       â”‚
â”‚     â”‚         â”‚                                                              â”‚
â”‚     â”‚         â”œâ”€â”€ AgentRouter: ì—ì´ì „íŠ¸ ì„ íƒ                                 â”‚
â”‚     â”‚         â”œâ”€â”€ RAG: ì»¨í…ìŠ¤íŠ¸ ì¦ê°•                                         â”‚
â”‚     â”‚         â””â”€â”€ ClaudeExecutor: Claude CLI ì‹¤í–‰ (3-15ì´ˆ)                  â”‚
â”‚     â”‚                                                                        â”‚
â”‚     â””â”€â”€â†’ Slack ì‘ë‹µ ì „ì†¡ (POST /slack/message)                              â”‚
â”‚              â”‚                                                               â”‚
â”‚              â””â”€â”€ ë¦¬ì•¡ì…˜ ì¶”ê°€ (POST /slack/reaction)                          â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.3 í´ë¼ì´ì–¸íŠ¸ë³„ API í˜¸ì¶œ íŒ¨í„´

#### Dashboard (React) â†’ Claude Flow API

| ê¸°ëŠ¥ | ì—”ë“œí¬ì¸íŠ¸ | ìš©ë„ |
|------|-----------|------|
| ëŒ€ì‹œë³´ë“œ í†µê³„ | `GET /api/v1/analytics/dashboard` | ì „ì²´ í†µê³„, ì°¨íŠ¸ |
| ì‹¤í–‰ ê¸°ë¡ | `GET /api/v1/executions/recent` | ìµœê·¼ ì‹¤í–‰ ëª©ë¡ |
| ì—ì´ì „íŠ¸ ê´€ë¦¬ | `GET/POST /api/v2/agents` | ì—ì´ì „íŠ¸ CRUD |
| Jira ì—°ë™ | `GET/POST /plugins/jira/*` | ì´ìŠˆ ê²€ìƒ‰, ìƒì„± |
| ìì—°ì–´â†’JQL | `POST /jira/nl-to-jql` | **LLM í˜¸ì¶œ** âš ï¸ |
| n8n ê´€ë¦¬ | `GET /n8n/workflows` | ì›Œí¬í”Œë¡œìš° ëª©ë¡ |
| Knowledge Base | `POST /knowledge/search` | ë²¡í„° ê²€ìƒ‰ |

#### n8n Workflow â†’ Claude Flow API

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    slack-mention-handler ì›Œí¬í”Œë¡œìš°                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  Webhook â”€â”€â†’ Classify â”€â”€â†’ Is Command? â”€â”€â†’ Execute Command                â”‚
â”‚    (Slack)   Message      â”‚                    â†“                         â”‚
â”‚                           â”‚              Send Response                   â”‚
â”‚                           â”‚                                              â”‚
â”‚                           â””â”€â”€â†’ Is MR Review? â”€â”€â†’ Redirect MR Review      â”‚
â”‚                                    â”‚                                     â”‚
â”‚                                    â””â”€â”€â†’ Add Loading                      â”‚
â”‚                                              â†“                           â”‚
â”‚                                    Get Thread History                    â”‚
â”‚                                              â†“                           â”‚
â”‚                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚                                    â”‚  Execute Claude â”‚ â† 15ë¶„ íƒ€ì„ì•„ì›ƒ   â”‚
â”‚                                    â”‚ /execute-with-  â”‚   **LLM í˜¸ì¶œ**   â”‚
â”‚                                    â”‚    routing      â”‚                   â”‚
â”‚                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚                                              â†“                           â”‚
â”‚                                    Remove Loading                        â”‚
â”‚                                              â†“                           â”‚
â”‚                                    Success? â”€â”€â†’ Send Reply               â”‚
â”‚                                       â”‚              â†“                   â”‚
â”‚                                       â””â”€â”€â†’ Send Error + Add Reactions    â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**n8n ì›Œí¬í”Œë¡œìš° ëª©ë¡**:

| ì›Œí¬í”Œë¡œìš° | ê¸°ëŠ¥ | Claude Flow API í˜¸ì¶œ |
|-----------|------|---------------------|
| `slack-mention-handler` | Slack ë©˜ì…˜ ì²˜ë¦¬ | `/execute-with-routing` **LLM** |
| `slack-mr-review` | MR ë¦¬ë·° ìš”ì²­ | `/execute-with-routing` **LLM** |
| `slack-action-handler` | ë²„íŠ¼ ì•¡ì…˜ ì²˜ë¦¬ | `/slack/message` |
| `slack-feedback-handler` | í”¼ë“œë°± ìˆ˜ì§‘ | `/feedback` |
| `alert-channel-monitor` | ì¥ì•  ì•ŒëŒ ë¶„ì„ | `/execute-with-routing` **LLM** |
| `alert-to-mr-pipeline` | ì•ŒëŒâ†’MR íŒŒì´í”„ë¼ì¸ | `/execute-with-routing` **LLM** |

### 1.4 LLM í˜¸ì¶œ ì§€ì 

| ìœ„ì¹˜ | ê¸°ëŠ¥ | í˜„ì¬ ë°©ì‹ | í‰ê·  ì§€ì—° |
|------|------|----------|----------|
| `ClaudeExecutor` | Claude CLI ì‹¤í–‰ | ë™ê¸° ë¸”ë¡œí‚¹ | 3-15ì´ˆ |
| `JiraAnalysisController` | ìì—°ì–´â†’JQL ë³€í™˜ | ë™ê¸°+ëŒ€ìš©ëŸ‰ í”„ë¡¬í”„íŠ¸ | 5-10ì´ˆ |
| `AgentRouter` | ì‹œë§¨í‹± ë¼ìš°íŒ… | ë™ê¸°+ì´ì¤‘ ë„¤íŠ¸ì›Œí¬ | 1-2ì´ˆ |
| `EmbeddingService` | í…ìŠ¤íŠ¸ ì„ë² ë”© | Ollama HTTP | 100-500ms |
| `ConversationVectorService` | ë²¡í„° ê²€ìƒ‰ | Qdrant HTTP | 200-1000ms |
| `ContextAugmentationService` | RAG ì»¨í…ìŠ¤íŠ¸ ì¦ê°• | ë™ê¸° ì¡°í•© | 500-2000ms |

### 1.5 í† í° ì‚¬ìš©ëŸ‰ ë¶„ì„

| ìš”ì²­ ìœ í˜• | ì…ë ¥ í† í° | ì¶œë ¥ í† í° | ë¹„ìš©/ê±´ |
|----------|----------|----------|---------|
| Jira ìì—°ì–´ ê²€ìƒ‰ | ~4000 | ~200 | ë†’ìŒ (80% ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸) |
| ì½”ë“œ ë¦¬ë·° | ~8000 | ~2000 | ë§¤ìš° ë†’ìŒ |
| ì¼ë°˜ ëŒ€í™” | ~2000 | ~500 | ë³´í†µ |
| RAG ì¦ê°• ëŒ€í™” | ~3500 | ~500 | ë³´í†µ+ |

---

## 2. í•µì‹¬ ë³‘ëª©ì 

### 2.1 Critical (ì¦‰ì‹œ ê°œì„  í•„ìš”)

#### ğŸ”´ C1: ë™ê¸° ë¸”ë¡œí‚¹ API í˜¸ì¶œ

**í˜„ìƒ**: `ClaudeFlowController.executeWithRouting()`ì—ì„œ ë™ê¸° `execute()` ì‚¬ìš©

```kotlin
// í˜„ì¬ ì½”ë“œ (ë¬¸ì œ)
val result = withContext(Dispatchers.IO) {
    claudeExecutor.execute(executionRequest)  // ë¸”ë¡œí‚¹!
}
```

**ì˜í–¥**:
- Spring WebFlux ë…¼ë¸”ë¡œí‚¹ ì¥ì  ë¯¸í™œìš©
- API ë™ì‹œ ì²˜ë¦¬ëŸ‰ ì œí•œ (ìŠ¤ë ˆë“œ í’€ ì˜ì¡´)

**í•´ê²°**: `executeAsync()` ì‚¬ìš©

```kotlin
// ê°œì„  ì½”ë“œ
val result = claudeExecutor.executeAsync(executionRequest)  // ë¹„ë™ê¸°
```

---

#### ğŸ”´ C2: Jira ìì—°ì–´ ê²€ìƒ‰ - ë°˜ë³µë˜ëŠ” ëŒ€ìš©ëŸ‰ í”„ë¡¬í”„íŠ¸

**í˜„ìƒ**: 800ì¤„(~4000 í† í°) ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ë¥¼ ë§¤ ìš”ì²­ë§ˆë‹¤ ì „ì†¡

```kotlin
// í˜„ì¬: ë§¤ë²ˆ ì „ì²´ í”„ë¡¬í”„íŠ¸ ì „ì†¡
val prompt = """
    |ë‹¹ì‹ ì€ Jira JQL ë³€í™˜ ì „ë¬¸ê°€ì…ë‹ˆë‹¤. ...
    |## JQL ë³€í™˜ ê·œì¹™
    |### ë‹´ë‹¹ì (assignee)
    |... (ìˆ˜ë°± ì¤„ì˜ ê·œì¹™)
""".trimMargin()
```

**ì˜í–¥**:
- í† í° ë¹„ìš© 80% ë‚­ë¹„
- TTFT(Time To First Token) 2-3ì´ˆ ì¶”ê°€

**í•´ê²°**: Prompt Caching ì ìš© (Anthropic API system í•„ë“œ í™œìš©)

```kotlin
// ê°œì„ : ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ ë¶„ë¦¬
val systemPrompt = loadCachedSystemPrompt("jira-jql-rules")  // ìºì‹±ë¨
val userPrompt = "ìì—°ì–´ ì¿¼ë¦¬: ${request.query}"
```

---

#### ğŸ”´ C3: ë¬´ì œí•œ ëŒ€í™” íˆìŠ¤í† ë¦¬ ëˆ„ì 

**í˜„ìƒ**: ìŠ¤ë ˆë“œ ì „ì²´ íˆìŠ¤í† ë¦¬ë¥¼ í”„ë¡¬í”„íŠ¸ì— í¬í•¨

```kotlin
val contextualPrompt = buildContextualPrompt(
    enrichedContext.enrichedPrompt,
    request.conversationHistory  // ì œí•œ ì—†ìŒ!
)
```

**ì˜í–¥**:
- ê¸´ ìŠ¤ë ˆë“œì—ì„œ í”„ë¡¬í”„íŠ¸ í­ë°œ (30+ ë©”ì‹œì§€ = 15000+ í† í°)
- ì‘ë‹µ ì‹œê°„ ì„ í˜• ì¦ê°€

**í•´ê²°**: ìµœê·¼ Nê°œ ë©”ì‹œì§€ë¡œ ì œí•œ + ìš”ì•½

```kotlin
val recentHistory = request.conversationHistory?.takeLast(10) ?: emptyList()
val summary = summarizeOlderHistory(request.conversationHistory?.dropLast(10))
```

---

### 2.2 High (ì„±ëŠ¥ ê°œì„ )

#### ğŸŸ¡ H1: ì‹œë§¨í‹± ë¼ìš°íŒ… ë™ê¸° ë¸”ë¡œí‚¹

**í˜„ìƒ**: `AgentRouter`ì—ì„œ HTTP ë™ê¸° í˜¸ì¶œ

```kotlin
// í˜„ì¬: ë™ê¸° HTTP
semanticRouter?.classify(message, enabledAgents)  // HttpClient.send() ë¸”ë¡œí‚¹
```

**ì˜í–¥**: ë¼ìš°íŒ…ë§Œìœ¼ë¡œ 1-2ì´ˆ ì§€ì—°

**í•´ê²°**: suspend í•¨ìˆ˜í™” + Ktor HTTP Client

```kotlin
suspend fun classifyAsync(message: String, agents: List<Agent>): ClassificationResult
```

---

#### ğŸŸ¡ H2: RAG ì¸ë±ì‹± ë™ê¸° ì²˜ë¦¬

**í˜„ìƒ**: ì‘ë‹µ í›„ ë™ê¸°ì ìœ¼ë¡œ ë²¡í„° ì¸ë±ì‹±

```kotlin
if (result.status == ExecutionStatus.SUCCESS) {
    conversationVectorService.indexExecution(executionRecord)  // ë™ê¸° ëŒ€ê¸°
}
```

**ì˜í–¥**: ì‘ë‹µ ì‹œê°„ +500ms

**í•´ê²°**: ë°±ê·¸ë¼ìš´ë“œ í ì²˜ë¦¬

```kotlin
scope.launch {
    indexingQueue.emit(executionRecord)
}
```

---

#### ğŸŸ¡ H3: ë²¡í„° ê²€ìƒ‰ ê²°ê³¼ ìºì‹± ì—†ìŒ

**í˜„ìƒ**: ë™ì¼ ì¿¼ë¦¬ë„ ë§¤ë²ˆ Qdrant ê²€ìƒ‰

**ì˜í–¥**: ë°˜ë³µ ì¿¼ë¦¬ì—ì„œ ë¶ˆí•„ìš”í•œ ì§€ì—°

**í•´ê²°**: Redis/Caffeine ìºì‹± (TTL 10ë¶„)

```kotlin
val cacheKey = "vector:${query.hashCode()}"
cache.get(cacheKey) ?: vectorSearch(query).also { cache.put(cacheKey, it) }
```

---

### 2.3 Medium (ìµœì í™”)

| ID | ì´ìŠˆ | í˜„ì¬ | ê°œì„  | íš¨ê³¼ |
|-----|------|------|------|------|
| M1 | ì„¸ì…˜ ì •ë¦¬ ìˆ˜ë™ | ìˆ˜ë™ í˜¸ì¶œ | ìŠ¤ì¼€ì¤„ëŸ¬ ìë™í™” | ë©”ëª¨ë¦¬ 10% ì ˆê° |
| M2 | ë°°ì¹˜ ì¸ë±ì‹± ë³‘ë ¬ë„ | 3 | 10 | 3x ê³ ì†í™” |
| M3 | n8n ìˆœì°¨ ì‹¤í–‰ | ìˆœì°¨ | Split Batches | 5x ì²˜ë¦¬ëŸ‰ |

---

## 3. ìµœì í™” ì „ëµ

### 3.1 Streaming ìš°ì„  ì „ëµ

> "ìŠ¤íŠ¸ë¦¬ë°ì€ ê°€ì¥ íš¨ê³¼ì ì¸ ìµœì í™”ë¡œ, ëŒ€ê¸° ì‹œê°„ì„ 1ì´ˆ ì´ë‚´ë¡œ ì¤„ì…ë‹ˆë‹¤"
> â€” [Latitude Blog](https://latitude-blog.ghost.io/blog/latency-optimization-in-llm-streaming-key-techniques/)

**í˜„ì¬**: ëŒ€ë¶€ë¶„ `execute()` (ì „ì²´ ì‘ë‹µ ëŒ€ê¸°)

**ëª©í‘œ**: Slack ì‘ë‹µì— ìŠ¤íŠ¸ë¦¬ë° ì ìš©

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Slack     â”‚ â†â”€â”€ â”‚  SSE/WS     â”‚ â†â”€â”€ â”‚  Claude     â”‚
â”‚  (ì‹¤ì‹œê°„)   â”‚     â”‚  Gateway    â”‚     â”‚ (ìŠ¤íŠ¸ë¦¬ë°)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**êµ¬í˜„ ë°©ì•ˆ**:

1. **Slack ë©”ì‹œì§€ ì—…ë°ì´íŠ¸ ë°©ì‹**
   ```kotlin
   // ì´ˆê¸° ë©”ì‹œì§€ ì „ì†¡
   val initialMsg = slackClient.chat_postMessage(channel, "ğŸ¤” ìƒê° ì¤‘...")

   // ìŠ¤íŠ¸ë¦¬ë° ì¤‘ ë©”ì‹œì§€ ì—…ë°ì´íŠ¸ (5ì´ˆë§ˆë‹¤)
   claudeExecutor.executeStreaming(request).buffer(5.seconds)
       .collect { chunk ->
           slackClient.chat_update(channel, initialMsg.ts, chunk)
       }
   ```

2. **ëŒ€ì‹œë³´ë“œ SSE ì§€ì›** (ì´ë¯¸ `ChatStreamController` êµ¬í˜„ë¨)

---

### 3.2 ìºì‹± ê³„ì¸µ êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ìºì‹± ë ˆì´ì–´                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  L1: ë©”ëª¨ë¦¬ ìºì‹œ (Caffeine)                                  â”‚
â”‚      - ì„ë² ë”© ìºì‹œ (EmbeddingCache) âœ… êµ¬í˜„ë¨                 â”‚
â”‚      - ì„¸ì…˜ ìºì‹œ (SessionCache) âœ… êµ¬í˜„ë¨                     â”‚
â”‚      - ì‚¬ìš©ì ì„ í˜¸ë„ ìºì‹œ (preferenceCache) âœ… êµ¬í˜„ë¨         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  L2: í”„ë¡¬í”„íŠ¸ ìºì‹œ (Anthropic API)                           â”‚
â”‚      - ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ ìºì‹± âš ï¸ ë¯¸ì ìš©                         â”‚
â”‚      - ë„êµ¬ ì •ì˜ ìºì‹± âš ï¸ ë¯¸ì ìš©                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  L3: ì‹œë§¨í‹± ìºì‹œ (ìƒˆë¡œ ë„ì…)                                  â”‚
â”‚      - ìœ ì‚¬ ì¿¼ë¦¬ ê²°ê³¼ ì¬ì‚¬ìš© âŒ ë¯¸êµ¬í˜„                        â”‚
â”‚      - JQL ë³€í™˜ ê²°ê³¼ ìºì‹± âŒ ë¯¸êµ¬í˜„                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  L4: ë²¡í„° ê²€ìƒ‰ ìºì‹œ (ìƒˆë¡œ ë„ì…)                               â”‚
â”‚      - Qdrant ì¿¼ë¦¬ ê²°ê³¼ ìºì‹± âŒ ë¯¸êµ¬í˜„                        â”‚
â”‚      - ê´€ë ¨ ëŒ€í™” ê²€ìƒ‰ ê²°ê³¼ âŒ ë¯¸êµ¬í˜„                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ì‹œë§¨í‹± ìºì‹± êµ¬í˜„ ë°©ì•ˆ**:

```kotlin
class SemanticCache(
    private val embeddingService: EmbeddingService,
    private val vectorStore: Qdrant,
    private val similarityThreshold: Float = 0.95f
) {
    suspend fun getOrCompute(
        query: String,
        compute: suspend () -> String
    ): CacheResult {
        // 1. ì¿¼ë¦¬ ì„ë² ë”© ìƒì„±
        val queryEmbedding = embeddingService.embedAsync(query)

        // 2. ìœ ì‚¬ ì¿¼ë¦¬ ê²€ìƒ‰ (similarity > 0.95)
        val similar = vectorStore.searchSimilar(queryEmbedding, threshold = 0.95f)

        // 3. ìºì‹œ íˆíŠ¸ ì‹œ ë°˜í™˜
        if (similar != null) {
            return CacheResult.Hit(similar.response, similar.similarity)
        }

        // 4. ìºì‹œ ë¯¸ìŠ¤ ì‹œ ê³„ì‚° í›„ ì €ì¥
        val result = compute()
        vectorStore.upsert(queryEmbedding, result)
        return CacheResult.Miss(result)
    }
}
```

> "ì‹œë§¨í‹± ìºì‹±ì€ ì¿¼ë¦¬ ì˜ë¯¸ë¥¼ ë²¡í„°ë¡œ ì €ì¥í•˜ê³  ìœ ì‚¬ë„ ê²€ìƒ‰ìœ¼ë¡œ ë§¤ì¹­í•©ë‹ˆë‹¤. ìºì‹œ íˆíŠ¸ìœ¨ì´ ë†’ì„ìˆ˜ë¡ ë¹„ìš©ê³¼ ì§€ì—°ì´ í¬ê²Œ ê°ì†Œí•©ë‹ˆë‹¤."
> â€” [ScyllaDB Blog](https://www.scylladb.com/2025/11/24/cut-llm-costs-and-latency-with-scylladb-semantic-caching/)

---

### 3.3 ë³‘ë ¬ ì²˜ë¦¬ ìµœì í™”

#### 3.3.1 í˜„ì¬ ë³‘ë ¬ ì²˜ë¦¬ í˜„í™©

| ì»´í¬ë„ŒíŠ¸ | ë³‘ë ¬ ì§€ì› | í˜„ì¬ ì‚¬ìš© |
|----------|----------|----------|
| `EmbeddingService.embedBatchParallel()` | âœ… | ì¼ë¶€ |
| `ConversationVectorService.indexExecutionsParallel()` | âœ… | ì¼ë¶€ |
| n8n ì›Œí¬í”Œë¡œìš° | âŒ | ìˆœì°¨ |
| AgentRouter ë‹¤ë‹¨ê³„ ë¶„ë¥˜ | âŒ | ìˆœì°¨ |

#### 3.3.2 ë³‘ë ¬í™” ê¸°íšŒ

```kotlin
// í˜„ì¬: ìˆœì°¨ ì‹¤í–‰
val feedbackMatch = feedbackLearningService?.recommendAgentFromSimilar(...)
val keywordMatch = tryKeywordMatch(message)
val semanticMatch = semanticRouter?.classify(message, agents)

// ê°œì„ : ë³‘ë ¬ ì‹¤í–‰ í›„ ìš°ì„ ìˆœìœ„ ì ìš©
val results = coroutineScope {
    listOf(
        async { feedbackLearningService?.recommendAgentFromSimilar(...) },
        async { tryKeywordMatch(message) },
        async { semanticRouter?.classifyAsync(message, agents) }
    ).awaitAll()
}
val bestMatch = results.filterNotNull().maxByOrNull { it.confidence }
```

---

### 3.4 í† í° ìµœì í™”

#### 3.4.1 í”„ë¡¬í”„íŠ¸ ì••ì¶•

**í˜„ì¬ Jira JQL í”„ë¡¬í”„íŠ¸ êµ¬ì¡°**:
```
ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ (4000 í† í°) - ë§¤ë²ˆ ì „ì†¡
â”œâ”€â”€ ì—­í•  ì •ì˜ (100 í† í°)
â”œâ”€â”€ JQL ë³€í™˜ ê·œì¹™ (3500 í† í°) â† ê³ ì •!
â””â”€â”€ ì‘ë‹µ í˜•ì‹ (400 í† í°)

ì‚¬ìš©ì í”„ë¡¬í”„íŠ¸ (200 í† í°) - ê°€ë³€
â”œâ”€â”€ ìì—°ì–´ ì¿¼ë¦¬
â””â”€â”€ í”„ë¡œì íŠ¸ ëª©ë¡
```

**ìµœì í™” í›„**:
```
ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ (ìºì‹±ë¨, ë¹„ìš© 90% í• ì¸)
â”œâ”€â”€ ì—­í•  ì •ì˜ + JQL ê·œì¹™ + í˜•ì‹

ì‚¬ìš©ì í”„ë¡¬í”„íŠ¸ (200 í† í°)
â”œâ”€â”€ ìì—°ì–´ ì¿¼ë¦¬
â””â”€â”€ í”„ë¡œì íŠ¸ ëª©ë¡
```

#### 3.4.2 ì‘ë‹µ í† í° ì œí•œ

```kotlin
val request = ExecutionRequest(
    prompt = userPrompt,
    config = ExecutionConfig(
        maxTokens = when (taskType) {
            TaskType.JQL_CONVERSION -> 500   // JSON ì‘ë‹µë§Œ
            TaskType.CODE_REVIEW -> 4000     // ìƒì„¸ ë¦¬ë·°
            TaskType.GENERAL -> 2000         // ì¼ë°˜ ëŒ€í™”
        }
    )
)
```

---

## 4. Claude Code CLI Best Practices ì ìš©

> ì°¸ì¡°: [Anthropic Engineering - Claude Code Best Practices](https://www.anthropic.com/engineering/claude-code-best-practices)

### 4.1 ëª¨ë¸ ì„ íƒ ìµœì í™”

**í˜„ì¬**: ë‹¨ì¼ ëª¨ë¸ ì‚¬ìš©

**ê¶Œì¥**: ì‘ì—… ìœ í˜•ë³„ ëª¨ë¸ ì„ íƒ

```json
// .claude/settings.json
{
  "model": "haiku",  // ê¸°ë³¸: ë¹ ë¥¸ ì‘ë‹µ
  "subagents": {
    "code-reviewer": { "model": "sonnet" },  // ë³µì¡í•œ ë¶„ì„
    "test-writer": { "model": "haiku" },     // ë‹¨ìˆœ ìƒì„±
    "security-reviewer": { "model": "sonnet" },
    "jql-converter": { "model": "haiku" }    // êµ¬ì¡°í™”ëœ ì¶œë ¥
  }
}
```

**ì„±ëŠ¥ ë¹„êµ**:
| ëª¨ë¸ | ì†ë„ | ë¹„ìš© | ì¶”ì²œ ìš©ë„ |
|------|------|------|----------|
| Haiku | 2x ë¹ ë¦„ | 3x ì €ë ´ | JQL ë³€í™˜, ê°„ë‹¨í•œ ë¶„ë¥˜ |
| Sonnet | ê¸°ì¤€ | ê¸°ì¤€ | ì½”ë“œ ë¦¬ë·°, ë³µì¡í•œ ë¶„ì„ |
| Opus | 0.5x | 5x ë¹„ìŒˆ | ìµœê³  ë‚œì´ë„ ì¶”ë¡  |

---

### 4.2 ì„œë¸Œì—ì´ì „íŠ¸ í™œìš© íŒ¨í„´

> "ì„œë¸Œì—ì´ì „íŠ¸ëŠ” ë³‘ë ¬í™”ë¥¼ ê°€ëŠ¥í•˜ê²Œ í•©ë‹ˆë‹¤. ì—¬ëŸ¬ ì„œë¸Œì—ì´ì „íŠ¸ê°€ ë™ì‹œì— ë‹¤ë¥¸ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."
> â€” [Simon Willison](https://simonwillison.net/2025/Oct/5/parallel-coding-agents/)

#### 4.2.1 í˜„ì¬ ì—ì´ì „íŠ¸ êµ¬ì¡°

```
.claude/agents/
â”œâ”€â”€ bug-fixer.md
â”œâ”€â”€ code-reviewer.md
â”œâ”€â”€ refactor.md
â”œâ”€â”€ test-writer.md
â”œâ”€â”€ security-reviewer.md
â”œâ”€â”€ jira-expert.md
â””â”€â”€ gitlab-expert.md
```

#### 4.2.2 ë³‘ë ¬ ì—ì´ì „íŠ¸ ì‹¤í–‰ íŒ¨í„´

**ë³µí•© ìš”ì²­ ì²˜ë¦¬**:
```
ì‚¬ìš©ì: "ì´ MR ë¦¬ë·°í•˜ê³  í…ŒìŠ¤íŠ¸ë„ ì¶”ê°€í•´ì¤˜"

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Orchestrator                       â”‚
â”‚                         â”‚                             â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚         â–¼               â–¼               â–¼             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚code-reviewerâ”‚ â”‚security-    â”‚ â”‚test-writer  â”‚     â”‚
â”‚  â”‚  (sonnet)   â”‚ â”‚  reviewer   â”‚ â”‚  (haiku)    â”‚     â”‚
â”‚  â”‚             â”‚ â”‚  (sonnet)   â”‚ â”‚             â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚         â”‚               â”‚               â”‚             â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                         â–¼                             â”‚
â”‚                  Result Merger                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 4.2.3 êµ¬í˜„ ì˜ˆì‹œ

```kotlin
// ë³‘ë ¬ ì—ì´ì „íŠ¸ ì‹¤í–‰
suspend fun executeParallelAgents(
    request: ReviewRequest
): CombinedResult = coroutineScope {
    val codeReview = async {
        claudeExecutor.executeWithAgent("code-reviewer", request.diff)
    }
    val securityReview = async {
        claudeExecutor.executeWithAgent("security-reviewer", request.diff)
    }
    val testSuggestions = async {
        claudeExecutor.executeWithAgent("test-writer", request.context)
    }

    CombinedResult(
        codeReview = codeReview.await(),
        securityReview = securityReview.await(),
        testSuggestions = testSuggestions.await()
    )
}
```

---

### 4.3 ì»¨í…ìŠ¤íŠ¸ ê´€ë¦¬ ì „ëµ

#### 4.3.1 CLAUDE.md ìµœì í™”

**í˜„ì¬ ë¬¸ì œ**: CLAUDE.mdê°€ ë„ˆë¬´ ìƒì„¸ (~2000ì¤„)

**ê¶Œì¥**: í•µì‹¬ë§Œ ìœ ì§€ + ì°¸ì¡° ë§í¬

```markdown
# Claude Flow í•µì‹¬ ì»¨í…ìŠ¤íŠ¸

## ë¹Œë“œ/ì‹¤í–‰
./gradlew build
./gradlew :claude-flow-app:bootRun

## ëª¨ë“ˆ êµ¬ì¡°
- core: ë„ë©”ì¸ ë¡œì§ (routing, storage, plugin, rag)
- executor: Claude CLI ë˜í¼
- api: REST API (Spring WebFlux)
- app: Spring Boot ì•±

## ì£¼ìš” íŒ¨í„´
- Repository Pattern: storage/repository/
- Plugin System: plugin/Plugin.kt

ìì„¸í•œ ì•„í‚¤í…ì²˜: @docs/ARCHITECTURE.md
ìë™í™” ê·œì¹™: @.claude/rules/
```

#### 4.3.2 ê²½ë¡œë³„ ê·œì¹™ ë¶„ë¦¬

```
.claude/rules/
â”œâ”€â”€ kotlin.md        # *.kt íŒŒì¼ìš©
â”œâ”€â”€ typescript.md    # *.ts, *.tsx íŒŒì¼ìš©
â”œâ”€â”€ testing.md       # *Test.kt, *.spec.ts íŒŒì¼ìš©
â””â”€â”€ documentation.md # *.md íŒŒì¼ìš©
```

---

### 4.4 Hook ìµœì í™”

**í˜„ì¬ Hook êµ¬ì¡°**:
```json
{
  "hooks": {
    "PostToolUse": [{
      "matcher": "Write|Edit",
      "hooks": ["doc-sync.sh", "log-operation.py"]
    }]
  }
}
```

**ì„±ëŠ¥ ìµœì í™”**:

```bash
#!/bin/bash
# doc-sync.sh ìµœì í™”

# ë¹ ë¥¸ ì¢…ë£Œ ì¡°ê±´
file_path=$(jq -r '.tool_input.file_path' <<< "$HOOK_INPUT")

# ê´€ì‹¬ íŒŒì¼ë§Œ ì²˜ë¦¬
case "$file_path" in
  */repository/*.kt|*/plugin/*.kt|*/routing/*.kt)
    # ë¬¸ì„œ ë™ê¸°í™” í•„ìš”
    ;;
  *)
    # ë¹ ë¥¸ ì¢…ë£Œ
    exit 0
    ;;
esac

# ë¹„ë™ê¸° ì²˜ë¦¬ (ë°±ê·¸ë¼ìš´ë“œ)
nohup python3 .claude/hooks/update-docs.py "$file_path" &>/dev/null &
```

---

### 4.5 ì¥ê¸° ì„¸ì…˜ ê´€ë¦¬

> "Initializer ì—ì´ì „íŠ¸ íŒ¨í„´: ì²« ì„¸ì…˜ì—ì„œ ë‹¤ìŒ ì„¸ì…˜ì„ ìœ„í•œ ì¤€ë¹„ë¥¼ í•©ë‹ˆë‹¤."
> â€” [Anthropic Engineering](https://www.anthropic.com/engineering/effective-harnesses-for-long-running-agents)

**ëŒ€ê·œëª¨ ì‘ì—… ì²˜ë¦¬ íŒ¨í„´**:

```bash
# Session 1: ì´ˆê¸°í™”
claude-progress.txt ìƒì„±
â”œâ”€â”€ ëª©í‘œ ì •ì˜
â”œâ”€â”€ ë°œê²¬ëœ íŒŒì¼ ëª©ë¡
â””â”€â”€ ì²´í¬í¬ì¸íŠ¸

# Session 2+: ì¦ë¶„ ì§„í–‰
claude-progress.txt ì½ê¸°
â”œâ”€â”€ ì´ì „ ì§„í–‰ ìƒí™© í™•ì¸
â”œâ”€â”€ ë‹¤ìŒ ë‹¨ê³„ ìˆ˜í–‰
â””â”€â”€ ì§„í–‰ ìƒí™© ì—…ë°ì´íŠ¸
```

**êµ¬í˜„ ì˜ˆì‹œ**:

```markdown
<!-- claude-progress.txt -->
# MR ë¦¬ë·° ì§„í–‰ ìƒí™©

## ëª©í‘œ
- 100ê°œ íŒŒì¼ ì½”ë“œ ë¦¬ë·°
- ë³´ì•ˆ ì·¨ì•½ì  ê²€ì‚¬
- í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ í™•ì¸

## ì™„ë£Œ (45/100)
- [x] src/main/kotlin/core/*.kt (15ê°œ)
- [x] src/main/kotlin/api/*.kt (30ê°œ)
- [ ] src/main/kotlin/storage/*.kt (0/25ê°œ) â† ë‹¤ìŒ ì„¸ì…˜
- [ ] src/test/**/*.kt (0/30ê°œ)

## ë°œê²¬ëœ ì´ìŠˆ (12ê°œ)
1. SQL Injection in QueryBuilder.kt:45
2. Missing null check in AgentRouter.kt:123
...
```

---

## 5. ëŒ€ê·œëª¨ ì‘ì—… ì²˜ë¦¬ ì•„í‚¤í…ì²˜

### 5.1 í˜„ì¬ í•œê³„

> "Claude Codeì˜ ê°€ì¥ í° ì œí•œì€ í•œ ë²ˆì— í•˜ë‚˜ì˜ ì‘ì—…ë§Œ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤."
> â€” [Ona Blog](https://ona.com/stories/parallelize-claude-code)

### 5.2 ë³‘ë ¬ ì‹¤í–‰ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Orchestrator (Kotlin)                     â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ Claude CLI  â”‚  â”‚ Claude CLI  â”‚  â”‚ Claude CLI  â”‚          â”‚
â”‚  â”‚ (Session 1) â”‚  â”‚ (Session 2) â”‚  â”‚ (Session 3) â”‚          â”‚
â”‚  â”‚  auth/*.kt  â”‚  â”‚  api/*.kt   â”‚  â”‚  core/*.kt  â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚         â”‚               â”‚               â”‚                    â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                         â–¼                                    â”‚
â”‚                 Result Aggregator                            â”‚
â”‚                         â”‚                                    â”‚
â”‚                         â–¼                                    â”‚
â”‚              Final Report / Actions                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.3 êµ¬í˜„ ì „ëµ

#### 5.3.1 ì‘ì—… ë¶„í•  (Work Partitioning)

```kotlin
class WorkPartitioner {
    fun partitionCodeReview(
        files: List<String>,
        maxFilesPerSession: Int = 20
    ): List<ReviewSession> {
        return files
            .chunked(maxFilesPerSession)
            .mapIndexed { index, chunk ->
                ReviewSession(
                    id = "session-$index",
                    files = chunk,
                    context = generateContext(chunk)
                )
            }
    }
}
```

#### 5.3.2 ë³‘ë ¬ ì„¸ì…˜ ì‹¤í–‰

```kotlin
class ParallelClaudeExecutor(
    private val sessionManager: SessionManager,
    private val maxConcurrency: Int = 3
) {
    suspend fun executeParallel(
        sessions: List<ReviewSession>
    ): List<ReviewResult> = coroutineScope {
        val semaphore = Semaphore(maxConcurrency)

        sessions.map { session ->
            async {
                semaphore.withPermit {
                    executeSession(session)
                }
            }
        }.awaitAll()
    }

    private suspend fun executeSession(session: ReviewSession): ReviewResult {
        val process = ProcessBuilder(
            "claude", "-p", session.context, "--session", session.id
        ).start()

        return withTimeout(300_000) {
            process.inputStream.bufferedReader().readText()
                .let { ReviewResult.parse(it) }
        }
    }
}
```

#### 5.3.3 ê²°ê³¼ ë³‘í•©

```kotlin
class ResultAggregator {
    fun aggregate(results: List<ReviewResult>): FinalReport {
        return FinalReport(
            totalFiles = results.sumOf { it.filesReviewed },
            criticalIssues = results.flatMap { it.criticalIssues },
            warnings = results.flatMap { it.warnings },
            suggestions = results.flatMap { it.suggestions }
        )
    }
}
```

---

### 5.4 n8n ì›Œí¬í”Œë¡œìš° ë³‘ë ¬í™”

**í˜„ì¬**: ìˆœì°¨ ì‹¤í–‰ (í•˜ë‚˜ì”© ì²˜ë¦¬)

**ê°œì„ **: Split in Batches ë…¸ë“œë¡œ ë³‘ë ¬í™”

```json
{
  "nodes": [
    {
      "name": "Split Files",
      "type": "n8n-nodes-base.splitInBatches",
      "parameters": {
        "batchSize": 10,
        "options": { "reset": false }
      }
    },
    {
      "name": "Parallel Review",
      "type": "n8n-nodes-base.httpRequest",
      "parameters": {
        "url": "http://localhost:8080/api/v1/review",
        "method": "POST"
      }
    },
    {
      "name": "Merge Results",
      "type": "n8n-nodes-base.merge",
      "parameters": {
        "mode": "mergeByIndex"
      }
    }
  ]
}
```

---

## 6. êµ¬í˜„ ë¡œë“œë§µ

### Phase 1: Quick Wins (1ì£¼)

| ìš°ì„ ìˆœìœ„ | ì‘ì—… | ì˜ˆìƒ íš¨ê³¼ | ë‚œì´ë„ |
|---------|------|----------|--------|
| 1 | `executeWithRouting` ë¹„ë™ê¸° ì „í™˜ | API ì²˜ë¦¬ëŸ‰ +50% | ë‚®ìŒ |
| 2 | ëŒ€í™” íˆìŠ¤í† ë¦¬ ì œí•œ (10ê°œ) | í”„ë¡¬í”„íŠ¸ -50% | ë‚®ìŒ |
| 3 | Jira JQL í”„ë¡¬í”„íŠ¸ ìºì‹± | í† í° ë¹„ìš© -80% | ì¤‘ê°„ |

**ì½”ë“œ ë³€ê²½ ì˜ˆì‹œ**:

```kotlin
// 1. ë¹„ë™ê¸° ì „í™˜
// ClaudeFlowController.kt
val result = claudeExecutor.executeAsync(executionRequest)  // ë³€ê²½

// 2. íˆìŠ¤í† ë¦¬ ì œí•œ
val recentHistory = request.conversationHistory?.takeLast(10)

// 3. í”„ë¡¬í”„íŠ¸ ë¶„ë¦¬ (JiraAnalysisController.kt)
val systemPrompt = JqlPromptCache.get()  // ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ ë¶„ë¦¬
```

---

### Phase 2: ìºì‹± ê°•í™” (2ì£¼)

| ì‘ì—… | ì˜ˆìƒ íš¨ê³¼ | ë‚œì´ë„ |
|------|----------|--------|
| ë²¡í„° ê²€ìƒ‰ ê²°ê³¼ ìºì‹± | RAG ê²€ìƒ‰ -80% ì§€ì—° | ì¤‘ê°„ |
| ì‹œë§¨í‹± ìºì‹± ë„ì… | ë°˜ë³µ ì¿¼ë¦¬ ì¦‰ì‹œ ì‘ë‹µ | ë†’ìŒ |
| ë¼ìš°íŒ… ê²°ê³¼ ìºì‹± | ë¼ìš°íŒ… -90% ì§€ì—° | ë‚®ìŒ |

**ì•„í‚¤í…ì²˜**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SemanticCacheService                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ Query Hash  â”‚  â”‚ Embedding   â”‚  â”‚ Result      â”‚          â”‚
â”‚  â”‚   Cache     â”‚â†’ â”‚   Cache     â”‚â†’ â”‚   Cache     â”‚          â”‚
â”‚  â”‚ (Caffeine)  â”‚  â”‚ (Caffeine)  â”‚  â”‚  (Redis)    â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚         â†“               â†“               â†“                    â”‚
â”‚    10ë¶„ TTL        30ë¶„ TTL         1ì‹œê°„ TTL                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### Phase 3: ë³‘ë ¬ ì²˜ë¦¬ (2ì£¼)

| ì‘ì—… | ì˜ˆìƒ íš¨ê³¼ | ë‚œì´ë„ |
|------|----------|--------|
| AgentRouter ë³‘ë ¬ ë¶„ë¥˜ | ë¼ìš°íŒ… -50% ì§€ì—° | ì¤‘ê°„ |
| ë³‘ë ¬ Claude ì„¸ì…˜ ì‹¤í–‰ | ëŒ€ê·œëª¨ ì‘ì—… 3x ë¹ ë¦„ | ë†’ìŒ |
| n8n ë³‘ë ¬ ì›Œí¬í”Œë¡œìš° | ë‹¤ì¤‘ ìš”ì²­ 5x ì²˜ë¦¬ëŸ‰ | ì¤‘ê°„ |

---

### Phase 4: ìŠ¤íŠ¸ë¦¬ë° ê³ ë„í™” (2ì£¼)

| ì‘ì—… | ì˜ˆìƒ íš¨ê³¼ | ë‚œì´ë„ |
|------|----------|--------|
| Slack ìŠ¤íŠ¸ë¦¬ë° ì‘ë‹µ | ì²´ê° ì‘ë‹µ ì‹œê°„ -70% | ë†’ìŒ |
| ëŒ€ì‹œë³´ë“œ SSE ê°œì„  | ì‹¤ì‹œê°„ ì§„í–‰ ìƒí™© | ì¤‘ê°„ |
| ìŠ¤íŠ¸ë¦¬ë° ì»¨í…ìŠ¤íŠ¸ ì£¼ì… | TTFT -2ì´ˆ | ë†’ìŒ |

---

### Phase 5: ëª¨ë¸ ìµœì í™” (1ì£¼)

| ì‘ì—… | ì˜ˆìƒ íš¨ê³¼ | ë‚œì´ë„ |
|------|----------|--------|
| ì‘ì—…ë³„ ëª¨ë¸ ì„ íƒ | ë¹„ìš© -40% | ë‚®ìŒ |
| ì„œë¸Œì—ì´ì „íŠ¸ ë„êµ¬ ì œí•œ | ì»¨í…ìŠ¤íŠ¸ -30% | ë‚®ìŒ |
| CLAUDE.md ê²½ëŸ‰í™” | ì´ˆê¸°í™” -50% | ë‚®ìŒ |

---

## 7. ì˜ˆìƒ íš¨ê³¼

### 7.1 ì„±ëŠ¥ ê°œì„  ëª©í‘œ

| ì§€í‘œ | í˜„ì¬ | Phase 1 í›„ | ìµœì¢… ëª©í‘œ |
|------|------|-----------|----------|
| API ì²˜ë¦¬ëŸ‰ | 10 req/s | 15 req/s | 30 req/s |
| í‰ê·  ì‘ë‹µ ì‹œê°„ | 5ì´ˆ | 3.5ì´ˆ | 2.5ì´ˆ |
| P95 ì‘ë‹µ ì‹œê°„ | 15ì´ˆ | 10ì´ˆ | 6ì´ˆ |
| TTFT (ì²« í† í°) | 3ì´ˆ | 2ì´ˆ | 0.5ì´ˆ |

### 7.2 ë¹„ìš© ì ˆê° ëª©í‘œ

| í•­ëª© | í˜„ì¬ | ìµœì¢… ëª©í‘œ | ì ˆê°ë¥  |
|------|------|----------|--------|
| Jira JQL ë³€í™˜ | 4000 í† í°/ê±´ | 800 í† í°/ê±´ | -80% |
| ì½”ë“œ ë¦¬ë·° | 10000 í† í°/ê±´ | 6000 í† í°/ê±´ | -40% |
| ì¼ë°˜ ëŒ€í™” | 2500 í† í°/ê±´ | 1500 í† í°/ê±´ | -40% |

### 7.3 ëª¨ë‹ˆí„°ë§ ì§€í‘œ

```kotlin
// ì¶”ê°€ ë©”íŠ¸ë¦­ ìˆ˜ì§‘
data class PerformanceMetrics(
    val cacheHitRate: Float,       // ëª©í‘œ: 70%+
    val avgTtft: Duration,         // ëª©í‘œ: < 1ì´ˆ
    val avgResponseTime: Duration, // ëª©í‘œ: < 3ì´ˆ
    val tokensPerRequest: Int,     // ëª©í‘œ: < 2000
    val parallelSessionCount: Int, // ëª©í‘œ: 3-5
    val streamingRatio: Float      // ëª©í‘œ: 80%+
)
```

---

## 8. ê²°ë¡ 

### 8.1 í•µì‹¬ ìµœì í™” ì›ì¹™

1. **ë™ê¸° â†’ ë¹„ë™ê¸°**: ëª¨ë“  I/O ì‘ì—… ë¹„ë™ê¸°í™”
2. **ìºì‹± ê³„ì¸µí™”**: ë©”ëª¨ë¦¬ â†’ í”„ë¡¬í”„íŠ¸ â†’ ì‹œë§¨í‹± â†’ ë²¡í„°
3. **ë³‘ë ¬ ì²˜ë¦¬**: ë…ë¦½ ì‘ì—…ì€ ë³‘ë ¬ ì‹¤í–‰
4. **ìŠ¤íŠ¸ë¦¬ë° ìš°ì„ **: ì‘ë‹µ ì²´ê° ì‹œê°„ ìµœì†Œí™”
5. **ëª¨ë¸ ìµœì í™”**: ì‘ì—…ë³„ ìµœì  ëª¨ë¸ ì„ íƒ

### 8.2 Claude Code CLI Best Practices ìš”ì•½

| ì›ì¹™ | ì ìš© ë°©ë²• |
|------|----------|
| ëª¨ë¸ ì„ íƒ | Haiku ê¸°ë³¸, ë³µì¡í•œ ì‘ì—…ë§Œ Sonnet |
| ì„œë¸Œì—ì´ì „íŠ¸ | ë„êµ¬ ì œí•œ, ë³‘ë ¬ ì‹¤í–‰ |
| ì»¨í…ìŠ¤íŠ¸ | CLAUDE.md ê²½ëŸ‰í™”, ê²½ë¡œë³„ ê·œì¹™ ë¶„ë¦¬ |
| Hook | ë¹ ë¥¸ ì¢…ë£Œ, ë¹„ë™ê¸° ì²˜ë¦¬ |
| ì¥ê¸° ì„¸ì…˜ | Initializer + Progress íŒ¨í„´ |

### 8.3 ì°¸ê³  ìë£Œ

- [Claude Code Best Practices - Anthropic Engineering](https://www.anthropic.com/engineering/claude-code-best-practices)
- [Parallel Coding Agents - Simon Willison](https://simonwillison.net/2025/Oct/5/parallel-coding-agents/)
- [LLM Latency Optimization - Latitude Blog](https://latitude-blog.ghost.io/blog/latency-optimization-in-llm-streaming-key-techniques/)
- [Semantic Caching - ScyllaDB](https://www.scylladb.com/2025/11/24/cut-llm-costs-and-latency-with-scylladb-semantic-caching/)
- [Reducing LLM Costs - Georgian AI](https://georgian.io/reduce-llm-costs-and-latency-guide/)
- [Claude Code Subagent Deep Dive - Code Centre](https://cuong.io/blog/2025/06/24-claude-code-subagent-deep-dive)
- [Parallelizing Claude Code - Ona](https://ona.com/stories/parallelize-claude-code)

---

*ì´ ë¬¸ì„œëŠ” Claude Flow í”„ë¡œì íŠ¸ì˜ ì„±ëŠ¥ ê³ ë„í™”ë¥¼ ìœ„í•œ ê¸°íš ë¬¸ì„œì…ë‹ˆë‹¤. êµ¬í˜„ ì‹œ ìš°ì„ ìˆœìœ„ì™€ ë¦¬ì†ŒìŠ¤ ìƒí™©ì— ë”°ë¼ ì¡°ì •ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.*
