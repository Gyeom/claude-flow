server:
  port: 8080

spring:
  application:
    name: claude-flow

claude-flow:
  slack:
    app-token: ${SLACK_APP_TOKEN:}
    bot-token: ${SLACK_BOT_TOKEN:}
    signing-secret: ${SLACK_SIGNING_SECRET:}

  webhook:
    base-url: ${N8N_WEBHOOK_URL:http://localhost:5678}
    mention-endpoint: /webhook/slack-mention
    message-endpoint: /webhook/slack-message
    reaction-endpoint: /webhook/slack-reaction
    feedback-endpoint: /webhook/slack-feedback

  # n8n API 인증 (대시보드 프록시용)
  n8n:
    email: ${N8N_EMAIL:admin@local.dev}
    password: ${N8N_PASSWORD:Localdev123}

  claude:
    model: ${CLAUDE_MODEL:claude-sonnet-4-20250514}
    max-tokens: ${CLAUDE_MAX_TOKENS:4096}
    timeout-seconds: ${CLAUDE_TIMEOUT:900}  # 15분 (리팩토링 등 장시간 작업용)

  # 작업 디렉토리 (여러 프로젝트의 상위 디렉토리)
  # Claude가 알아서 하위 프로젝트를 탐색함
  workspace:
    path: ${WORKSPACE_PATH:.}

  # GitLab 연동
  gitlab:
    url: ${GITLAB_URL:}
    token: ${GITLAB_TOKEN:}

  # GitHub 연동
  github:
    token: ${GITHUB_TOKEN:}

  # Jira 연동
  jira:
    url: ${JIRA_URL:}
    email: ${JIRA_EMAIL:}
    api-token: ${JIRA_API_TOKEN:}

  # Figma 연동
  figma:
    access-token: ${FIGMA_ACCESS_TOKEN:}

  # RAG 설정
  qdrant:
    url: ${QDRANT_URL:http://localhost:6333}
    collection: claude-flow-agents

  ollama:
    url: ${OLLAMA_URL:http://localhost:11434}
    model: ${OLLAMA_EMBEDDING_MODEL:qwen3-embedding:0.6b}

management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics
  endpoint:
    health:
      show-details: when-authorized

logging:
  level:
    ai.claudeflow: DEBUG
    com.slack.api: DEBUG
    com.slack.api.bolt: DEBUG
    com.slack.api.socket_mode: DEBUG
